
# 1. 什么是语法糖

>语法糖（Syntactic sugar） 代指的是编程语言为了方便程序员开发程序而设计的一种特殊语法，这种语法对编程语言的功能并没有影响，实现相同的功能，但基于语法糖写出来的代码往往更简单简洁且更易阅读

- 增强 for 循环（for-each）

```java
List<String> list = Arrays.asList("A", "B", "C");

// 语法糖：
for (String s : list) {
    System.out.println(s);
}

// 等价原始写法：
for (Iterator<String> it = list.iterator(); it.hasNext(); ) {
    String s = it.next();
    System.out.println(s);
}
```

- Lambda 表达式

```java
list.forEach(s -> System.out.println(s));
```

但 JVM 本身并不支持语法糖，它是一种字节码执行引擎，它只认识结构化的、简化的中间语言（即 `.class` 文件中的字节码指令），它不关心代码写的是 Lambda 表达式、for-each，还是 var ，这些在编译后都被转成了基础语法结构的字节码，所以支持语法糖的是 Java 编译器而不是 JVM。

在 `com.sun.tools.javac.main.JavaCompiler` 中有一个 `desugar()` 方法，它就是 Java 编译器中对语法糖进行转换的关键步骤。

****
