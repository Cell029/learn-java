
# 1. 什么是 SPI

>SPI（Service Provider Interface）是一种服务发现机制，它是服务提供者的接口，为框架开发者提供了一种标准化的扩展机制，允许第三方在不修改核心代码的情况下提供具体实现

系统设计的各个抽象，往往有很多不同的实现方案，在面向的对象的设计里，一般推荐模块之间基于接口编程，模块之间不对实现类进行硬编码。一旦代码里涉及具体的实现类，就违反了可拔插的原则，如果需要替换一种实现，就需要修改代码。为了实现在模块装配的时候能不在程序里动态指明，这就需要一种服务发现机制。 Java SPI 就是提供这样的一个机制：为某个接口寻找服务实现的机制，有点类似 IOC 的思想，允许接口的使用者在运行时找到其实现者，无需在代码中直接依赖实现类，在模块化设计中这个机制尤其重要，所以 SP I的核心思想就是解耦

使用场景：

这种组件适合于调用者根据实际使用需要，启用、扩展、或者替换框架的实现策略

- 数据库驱动加载接口实现类的加载  JDBC 加载不同类型数据库的驱动
- 日志门面接口实现类加载 SLF4J 加载不同提供商的日志实现类
- Spring 中大量使用了 SPI，比如： servlet 3.0 规范对 ServletContainerInitializer 的实现、自动类型转换 `Converter`、`GenericConverter`、`Formatter` 等接口...

****