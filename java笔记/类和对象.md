
# 一.类

>类是对象的设计图,定义了对象的属性和行为,描述一类对象的共同特征,类是某中事物的抽象定义

## 1.类的加载

>这个过程是jvm将.class文件读进内存的过程

>jvm会先找到.class文件,然后把这个文件存入方法区或运行时数据区,将.class文件转换成Class对象

>jvm读取.class文件的内容,把类中的信息存放在方法区(Java8之前)/元空间(Java8之后)中,然后把创建好的Class对象存放在堆内存中

>所以说类的创建本身也是一种对象的创建,程序员写的类在加载时都会被加载成一个Class<类>类型的对象,这个对象就代表它本身这个类的结构和行为

```
例如创建一个Person类
class Person {
}

底层运行
Class<Person> 
```

>既然每个类在加载时都会被创建成一个Class类型的对象,那证明多个对象共享一个Class,就跟创建一个普通的对象一样,可以new很多个

**Class对象怎么来的?**

>Class也是个普通的类,只不过是由官方写出来的,在编译时也是个.class文件,目前只知道这个应该够了...

## 2.类的连接

>验证字节码是否合法,给静态变量分配内存空间并设置默认值


## 3.类的初始化

>执行类的静态初始化块和静态变量赋初值
# 二.对象

>类的实例化,具有类的属性和方法

## 1.jvm内存分布(简易版)

>jvm主要的三个空间为:虚拟机栈,堆,方法区的实现(元空间)

**虚拟机栈**

>用来存储调用的方法的信息,每调用一个方法就会入栈一个栈帧,方法执行完就出栈,栈帧中包含了方法中的局部变量,操作数栈等东西

```
int i = 10;
Person p1 = new Person();
这两个都是局部变量,全部储存在栈帧中,只不过基本数据类型储存的就是值,而引用数据类型储存的却是一个地址,这个地址用来指向存放在堆中的信息
```

**堆**

>主要用来存放实例变量,也就是new出来的东西,这个变量里面会存储类的属性和方法,想要访问这些数据就需要知道这个变量的地址,也就是在栈帧中存储这个对象的地址,这也是为什么引用数据类型可以在方法中更改数据不受局部变量影响

**元空间**

>元空间存储的是类的元信息和字节码等,使用的是本地的内存,所有类的结构信息都会放进这里,并不只是new出来的才放进来,而大家共享的Class对象也在这个地方

## 2.创建对象

>通常使用new来创建一个实例对象,


