
>希尔排序是插入排序的改进版本，也叫缩小增量排序

>希尔排序会将数组按照一定的间隔进行分组，对每组分别进行插入排序，完成后再减小每组的间隔，直到间隔为1，也就是对整个数组进行插入排序

>通常这个数组的间隔叫做增量，初始值为数组长度的一半，每次排序完都会继续减半，直到为1为止

```
[23, 12, 1, 8, 34, 54, 2]

取增量gap=7/2=3，
序列1：arr[0], arr[3], arr[6] → [23, 8, 2]
组内插入排序：[8, 23, 2] → [8, 2, 23] → [2, 8, 23]
序列2：arr[1], arr[4] → [12, 34]
组内插入排序：[12, 34]
序列3：arr[2], arr[5] → [1, 54]
组内插入排序：[1, 54]
此时数组：[2, 12, 1, 8, 34, 54, 23]

取增量gap=3/2=1
此时增量为1，直接对整个数组进行插入排序
[2, 12, 1, 8, 34, 54, 23] → [1, 2, 12, 8, 34, 54, 23] → [1, 2, 8, 12, 34, 54, 23] → [1, 2, 8, 12, 23, 34, 54]
```

```java
private static void shellSort(int[] arr) {  
    int n = arr.length;  
    for (int gap = n / 2; gap > 0; gap /= 2) {
    //每轮循环之后，将 gap 缩小为一半，直到最后变成 1，也就是普通插入排序的过程  
        for (int i = gap; i < n; i++) {  
            //因为第一个元素默认是有序的，所以直接从i=gap开始，
            //也就是组内的当前要插入的元素，后续i++就是进入下一个分组  
            int key = arr[i];  
            int j = i - gap;//表示组内元素的前一个元素  
            while (j >= 0 && arr[j] > key) {  
                arr[j + gap] = arr[j];  
                j -= gap;//每次前移一个gap，也就是组内的元素的前一个元素  
            }  
            arr[j + gap] = key;  
        }  
    }  
}
```